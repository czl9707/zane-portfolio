---
import BaseLayout from '@/components/layouts/Layout.Base.astro';

import StickyHero from '@/components/layouts/StickyHero.astro';
import ContentSection from '@/components/layouts/Section.Content.astro'
import TitleSection from '@/components/layouts/Section.Title.astro'

import Grid from '@/components/ui/Grid.astro';
import SlidingDownIcon from '@/components/ui/SlidingDownIcon.astro';
import Spacer from '@/components/ui/Spacer.astro';
import Typography from '@/components/ui/Typography.astro';
import SlideUpDiv from "@/components/ui/SlideUpDiv.astro";
import MarkdownBlock from '@/components/ui/markdown/Block.astro';

import { SITE_DESCRIPTION, SITE_TITLE } from '@/lib/utils/constants';
import { themeVars } from '@/lib/theme';
import { getHomePage } from '@/lib/cms/globals'

const homepageGlob = await getHomePage();
---
<BaseLayout title={SITE_TITLE} description={SITE_DESCRIPTION}>
    <StickyHero>
        <Grid columns={3}>
          <SlideUpDiv style={{ gridColumn: "span 2 / span 2" }}>
            <Typography variant='h4' as="h2">
              Precision in detail, vision in design, <br />
              building things one block at a time.
            </Typography>
          </SlideUpDiv>
        </Grid>

        <Spacer style={{ flex: "1 1" }} />
        <SlidingDownIcon />
        <Spacer />
        <Typography variant='h1'>
			<SlideUpDiv style={{backgroundColor: `rgb(${themeVars.color.default.background})`}}>
				<svg width={"100%"} viewBox="0 0 45 7">
					<title id="ZANE_CHEN">ZANE CHEN</title>
					<text class:list={["SVGText"]} x="50%" y="50%"
						textLength={45} lengthAdjust="spacingAndGlyphs"
						font-weight={700} font-size="7.2px"
						dominant-baseline="middle" text-anchor="middle"
					>
						ZANE CHEN
					</text>
				</svg>
			</SlideUpDiv>	
        </Typography>
    </StickyHero>

	<!-- Who Am I -->
    <ContentSection>
    <Typography variant='h5' color="secondary" id="who_am_i" slot={"header"}>
        Who am I?
    </Typography>
      <SlideUpDiv style={{ gridColumn: "span 2 / span 2" }}>
        <MarkdownBlock content={homepageGlob.whoAmI} highLightKeywords/>
      </SlideUpDiv>
    </ContentSection>
</BaseLayout>


<style>
.SVGText {
    fill: rgb(var(--color-default-foreground));
    font-family: var(--typography-h1-fontFamily);
    user-select: none;
}

.ResponsiveTitle {
    display: flex;
    flex-direction: column;
    width: 100%;
    align-items: stretch;
    
    @media(--larger-than-md) { 
        flex-direction: row;
        align-items: flex-end 
    }
}

.NavigationCard {
    p {
        position: absolute;
        bottom: var(--spacing-paragraph);
        right: var(--spacing-paragraph);
    }
}
</style>